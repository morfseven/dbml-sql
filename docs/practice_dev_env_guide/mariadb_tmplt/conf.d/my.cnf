
# this is read by the standalone daemon and embedded servers
# 리눅스에서 chmod 755 my.cnf
# 윈도우에서 (Read-Only) chmod 044 my.cnf
[server]

# this is only for the mysqld standalone daemon
[mysqld]
default-storage-engine=InnoDB
init_connect="SET collation_connection=utf8mb4_general_ci"
init_connect="SET NAMES utf8mb4"
character-set-server=utf8mb4
collation-server=utf8mb4_general_ci
skip-character-set-client-handshake
sql_mode = "ONLY_FULL_GROUP_BY,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"
log_bin_trust_function_creators=1
wait_timeout=60
interactive_timeout=60
lock_wait_timeout=60
innodb_buffer_pool_size=2G
innodb_buffer_pool_instances=2
port=3306

[mysql]
default-character-set=utf8mb4

#
# * Galera-related settings
#
[galera]
# Mandatory settings
#wsrep_on=ON
#wsrep_provider=
#wsrep_cluster_address=
#binlog_format=row
#default_storage_engine=InnoDB
#innodb_autoinc_lock_mode=2

# Allow server to accept connections on all interfaces.
bind-address=0.0.0.0

# 같은 컨테이너 안에서는 localhost로 접속하기 때문에 bind-address=127.0.0.1이어도 접속 가능
# 다른 컨테이너 또는 외부 앱에서는 localhost가 아닌 **다른 IP (예: 172.x.x.x 등)**로 접근하게 됨
# → 이 경우 bind-address=127.0.0.1로 설정되어 있으면 거부됨

# Optional setting
# wsrep_slave_threads=1
# innodb_flush_log_at_trx_commit=0

# this is only for embedded server
[embedded]

# This group is only read by MariaDB servers, not by MySQL.
# If you use the same .cnf file for MySQL and MariaDB,
# you can put MariaDB-only options here
[mariadb]
max-connection=200

# This group is only read by MariaDB-10.5 servers.
# If you use the same .cnf file for MariaDB of different versions,
# use this group for options that older servers don't understand
[mariadb-10.5]

[mysqldump]
quick
max_allowed_packet=256M
